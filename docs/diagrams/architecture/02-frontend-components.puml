@startuml Frontend Component Structure
skinparam componentStyle rectangle
skinparam linetype ortho
skinparam defaultTextAlignment center
skinparam ArrowColor #232F3E
skinparam ArrowThickness 2
skinparam shadowing false
skinparam packageStyle rectangle
top to bottom direction

title Frontend Component Architecture\nReact + TypeScript

' ===== TOP LAYER =====
package "Application Root" #FFE6CC {
    component [Router\nReact Router v6] as Router #FF9900
}

' ===== LAYOUT LAYER =====
package "Layout Components" #E6F3FF {
    component [Header] as Header #146EB4
    component [Sidebar] as Sidebar #146EB4
    component [MainLayout] as MainLayout #146EB4
}

' ===== PAGE LAYER =====
package "Page Components" #F5F5F5 {
    component [LoginPage] as LoginPage
    component [DashboardPage] as DashboardPage
    component [ProjectListPage] as ProjectListPage
    component [ProjectDetailPage] as ProjectDetailPage
    component [BudgetEntryPage] as BudgetEntryPage
    component [DailyTimeEntryPage] as DailyTimeEntryPage
    component [MonthlyActualsPage] as MonthlyActualsPage
}

' ===== FEATURE LAYER (SIDE BY SIDE) =====
package "Feature Components" {
    
    package "Projects" #lightblue {
        component [ProjectCard] as ProjectCard
        component [ProjectForm] as ProjectForm
        component [ProjectSummary] as ProjectSummary
    }
    
    package "Budget" #lightgreen {
        component [BudgetLineTable] as BudgetLineTable
        component [BudgetLineForm] as BudgetLineForm
    }
    
    package "Time Entry" #lightyellow {
        component [TimeEntryForm] as TimeEntryForm
        component [TimeEntryTable] as TimeEntryTable
    }
    
    package "Actuals" #FFE6E6 {
        component [ActualsTable] as ActualsTable
        component [ActualsForm] as ActualsForm
    }
}

' ===== SHARED LAYER =====
package "Shared Components" #F0F0F0 {
    component [DataTable] as DataTable #232F3E
    component [FormField] as FormField #232F3E
    component [DatePicker] as DatePicker #232F3E
    component [CurrencyInput] as CurrencyInput #232F3E
}

' ===== UI LIBRARY =====
package "UI Library (shadcn/ui)" #FAFAFA {
    component [Button] as Button
    component [Input] as Input
    component [Select] as Select
    component [Card] as Card
    component [Table] as Table
}

' ===== DATA LAYER =====
package "Data Layer" {
    
    package "Custom Hooks" #FFE6CC {
        component [useProjects] as useProjects #FFD700
        component [useBudget] as useBudget #FFD700
        component [useTimeEntries] as useTimeEntries #FFD700
        component [useActuals] as useActuals #FFD700
        component [useAuth] as useAuth #FFD700
    }
    
    package "API Services" #FFE6E6 {
        component [projectsApi] as projectsApi #FF6347
        component [budgetApi] as budgetApi #FF6347
        component [timeEntriesApi] as timeEntriesApi #FF6347
        component [actualsApi] as actualsApi #FF6347
        component [authApi] as authApi #FF6347
    }
}

' ===== UTILITIES =====
package "Utilities" #E6E6E6 {
    component [formatCurrency] as formatCurrency
    component [formatDate] as formatDate
    component [calculations] as calculations
}

' ===== MAIN FLOW (VERTICAL) =====
Router --> MainLayout
MainLayout --> Header
MainLayout --> Sidebar
MainLayout --> DashboardPage
MainLayout --> ProjectListPage
MainLayout --> BudgetEntryPage
MainLayout --> DailyTimeEntryPage

Router --> LoginPage

' ===== PAGE TO FEATURE =====
ProjectListPage --> ProjectCard
ProjectListPage --> ProjectForm
BudgetEntryPage --> BudgetLineTable
BudgetEntryPage --> BudgetLineForm
DailyTimeEntryPage --> TimeEntryForm
DailyTimeEntryPage --> TimeEntryTable
MonthlyActualsPage --> ActualsTable
MonthlyActualsPage --> ActualsForm

' ===== FEATURE TO SHARED =====
BudgetLineTable --> DataTable
TimeEntryTable --> DataTable
ActualsTable --> DataTable

ProjectForm --> FormField
BudgetLineForm --> FormField
TimeEntryForm --> FormField

TimeEntryForm --> DatePicker
BudgetLineForm --> CurrencyInput

' ===== SHARED TO UI =====
FormField --> Input
FormField --> Select
DataTable --> Table
ProjectCard --> Card
ProjectForm --> Button

' ===== PAGES TO HOOKS =====
ProjectListPage ..> useProjects
BudgetEntryPage ..> useBudget
DailyTimeEntryPage ..> useTimeEntries
MonthlyActualsPage ..> useActuals
LoginPage ..> useAuth

' ===== HOOKS TO API =====
useProjects ..> projectsApi
useBudget ..> budgetApi
useTimeEntries ..> timeEntriesApi
useActuals ..> actualsApi
useAuth ..> authApi

' ===== COMPONENTS TO UTILS =====
ProjectCard ..> formatCurrency
TimeEntryTable ..> formatDate
ProjectSummary ..> calculations

note right of Router
  <b>Application Entry Point</b>
  • React Router v6
  • Route definitions
  • Protected routes
  • Lazy loading
end note

note right of useProjects
  <b>Custom Hooks Pattern:</b>
  • Data fetching
  • Loading states
  • Error handling
  • Caching
  • Type-safe
end note

note right of projectsApi
  <b>API Services:</b>
  • AWS Amplify
  • Auto JWT headers
  • Error handling
  • TypeScript types
end note

legend bottom
  <b>Component Types</b>
  |= Color |= Type |
  |<#FF9900>| Router (Application Root) |
  |<#146EB4>| Layout Components |
  |<#232F3E>| Shared Components |
  |<#FFD700>| Custom Hooks |
  |<#FF6347>| API Services |
  |<#lightblue>| Projects Module |
  |<#lightgreen>| Budget Module |
  |<#lightyellow>| Time Entry Module |
  |<#FFE6E6>| Actuals Module |
  |<#F5F5F5>| Page Components |
  |<#FAFAFA>| UI Library (shadcn/ui) |
  |<#E6E6E6>| Utility Functions |
  
  <b>Architecture Patterns:</b>
  • Component composition
  • Custom hooks for data fetching
  • Shared UI components
  • Type-safe API clients
  • Centralized utilities
endlegend

@enduml
